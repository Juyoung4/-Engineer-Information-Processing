### 2-5 인터페이스 구현

* 인터페이스 설계서: 데이터 교환 및 처리 목적
   + 인터페이스 설계서(정의서): 한 시스템이 갖는 인터페이스 목록->상세 데이터 명세+기능의 세부 인터페이스 정보
      - 정의서: 인터페이스 목록(인터페이스ID+시스템정보+요구사항ID)+인터페이스 명세(인터페이스 ID+상세정보(data, data형식 등))
         * 상세 기능별 인터페이스 정의서: 세부 기능+사전조건(외부 모듈)/사후조건(내부 모듈)+파라미터+반환값
   + 정적/동적 모형, 데이터 포맷에 따른 인터페이스 설계서
      - 정적/동적 모형을 통한 인터페이스 설계: 시스템 구성요소 간 트랙잭션+시스템의 인터페이스
      - 데이터 정의를 통한 인터페이스 설계: 제공하는 인터페이스 서비스에 대한 상세 명세

* 인터페이스 확인 순서 = 내부,외부 모듈간 공통 기능/데이터 인터페이스 확인 순서
   1. 인터페이스 설계서의 외부/내부 모듈의 기능 확인 (상세 기능별 인터페이스 정의서 + 정/동적 모형에서 확인)
   2. 인터페이스 설계서의 외부/내부 모듈 기반으로 공통 기능과 각 데이터의 인터페이스 확인

* 외부/내부 모듈 연계를 위한 인터페이스 기능 식별
   - 외부/내부 모듈 연계 방법
       * 대표적인 방식: EAI, ESB
           * EAI: 각 비지니스(어플리케이션) 간 통합/연계성 증대->시스템 간의 확장성 증대
              구축 유형:
               
                    Point-to-Point(미들웨어x -> 저렴, 변경/재사용 어렵)
                        Hub&Spoke(중앙 집중적 방식->모든 데이터 전송 보장, 확장/유지보수 용이, 허브 고장->전체 고장)
                           Bus유형[message bus(미들웨어 사용->확장성/대용량처리), Hybrid(hub&spoke - message bus로 사용->표준 통합기술,데이터 병목 최소화)]
                           
           * ESB: 서비스 간 통합, 웹서비스 중심으로 이기종 어플리케이션을 유연(결합도 감소)하게 통합
           
              BUS를 중심으로 프로토콜을 변경[Message Bus이용], 관리 보안 쉬움->특정 업체 종속, 성능 문제 개선
   - 외부/내부 모듈 연계를 위한 인터페이스 기능 식별 순서
      1. 응용 sw과 관련된 외/내부 모듈간 연계된 기능 식별
      2. 외/내부 모듈 간 연계된 기능에 따른 인터페이스 기능 식별 [외부+공통->인터페이스 기능, 공통+내부->인터페이스 기능]

* 데이터 표준확인
   - 인터페이스 데이터 표준의 개요: 인터페이스가 되어야 할 범위의 데이터들의 형식과 표준 정의
   - 인터페이스 데이터 표준 확인 순서
      1. 식별된 데이터 인터페이스/인터페이스 기능을 통해 인터페이스 데이터 표준 확인(입력값,출력값의 파라미터->데이터 표준 작성)
      2. 식별된 인터페이스 기능을 통해 인터페이스 데이터 표준 확인(데이터 인터페이스의 데이터 표준을 검증+추가 보완 확인)
      3. 데이터 인터페이스/식별된 인터페이스 기능을 통해 데이터 표준 확인(필요한 데이터 표준, 조정해야할 항목 검토->인터페이스 표준 최종적 확인)
      
  --------------------
##### 인터페이스 기능 구현

* 인터페이스 기능 구현 정의 순서
   + 기능 구현= 인터페이스 기능 + 인터페이스 데이터 표준 + <u>모듈 세부 설계서<u>
   + 순서: 모듈 간 세부 설계서 확인(컴포넌트 명세서+인터페이스 명세서 확인)->일관되고 정형화된 인터페이스 기능 구현

* 모듈 세부 설계서:하나의 독립적인 기능 수행하는 모듈+세부적인 동작
   + 컴포넌트 명세서: 컴포넌트 구성 요소+동작(내부 클래스 동작, 인터페이스 클래스)-실제 class이름, 설계의 논리적 class이름
   + 인터페이스 명세서: 컴포넌트 명세서의 인터페이스 클래스의 세부적인 조건 및 기능 명시(명칭, 설명, 사전/사후 조건, 인터페이스 데이터, 반환값)

* 인터페이스 구현:데이터 통신 이용, 인터페이스 테이블 이용
   + 데이터 통신을 이용한 인터페이스 구현
   
      application(data 포맷) -> 인터페이스 대상 -> 수신(파싱하여 해석) [데이터 포맷(인터페이스 객체):JSON, XML]
      - JSON: 속성-값 쌍(개방형 표준 포맷), AJAX에서 많이 사용,언어 독립형 데이터 포맷(다양한 프로그래밍 언어에서 사용)
      - XML: 다목적 마크업 언어, 다른 시스템끼리 data 쉽게 교환
         * XML 특징: [유니코드 문자, XML 파서(마크업 분석+추출), 마크업과 내용(<>, &;), 엘리먼트,속성, XML선언]
   + 인터페이스 테이블(엔티티)를 이용한 인터페이스 구현
      - 데이터베이스에 인터페이스 테이블 둠
      
      (EX) 송신 table[Write] ->[프러시저, 트리거, 잡] -> 수신 table      
   - 인터페이스 구현 순서
   
      사전에 정의된 기능 구현 분석->인터페이스 구현(데이터 통신+인터페이스 테이블 사용)

* 인터페이스 예외처리
    + 처리 방안 정의 순서
      - 데이터 통신을 이용한 예외처리(인터페이스 객체 이용)
         1. 인터페이스 객체 송신 시 예외 처리
         2. 인터페이스 객체 수신시 예외처리
      - 인터페이스 테이블 이용한 예외처리(해당 entity에 실패결과+원인 작성)

* 인터페이스 보안
   - 데이터 통신시 데이터 탈취 위협(스니핑: 수동적 해킹 공격, 스니퍼이용(패킷 분석기))
   - 시큐어 코딩: WAS의 보안 취약점 발표 사례 OWASP를 참고하여 작성 [입력 데이터 검증/표현, 보안특성, 시간/상태, 에러처리, 캡슐화,코드품질, API]
   - 데이터베이스 암호화 알고리즘: 대칭키, 비대칭키, 해시
   - 데이터베이스 암호화 기법: API방식(app에 암호화), Plug-in(filter) 방식(db에 암호화), Hybrid 방식
* 인터페이스 보안 기능 적용 순서

   인터페이스의 보안 취약점 분석(인터페이스 송/수신부의 구현 현황 분석->각 구간의 보안 취약점 분석)
      -> 분석된 보안 취약점을 근거로 인터페이스 보안 기능 적용(네트워크, 데이터베이스,애플리케이션에 보안 기능 적용)

* 소프트웨어 연계 테스트: 송신-수신 시스템간 구성요소가 정상적으로 동작하는지 확인
   + 수행 순서: 연계 통합 테스트 케이스 작성+단위 케이스->연계 테스트 환경 구축->연계 테스트 수행->연계 테스트 수행 결과 검증
   + 분류: 연계 테스트 구간(송신~수신), 연계 단위 테스트(연계 자체만), 연계 통합 테스트

------------
##### 설계 산출물
* 인터페이스 구현 검증: 인터페이스 구현+감시도구 => 동작 상태 검증 + 감시
    - 인터페이스 구현 검증 도구: 인터페이스 단위 기능 + 시나리오에 기반한 통합 테스트 필요
        * 인터페이스 구현 검증에 필요한 설계 산출물: 인터페이스 명세서 + 인터페이스 단위 및 통합 테스트 설계서
            
                인터페이스 구현 검증 도구: xUnit, STAF, FitNesse, NTAF Naver, Selenium, Watir Ruby
                
    - 인터페이스 감시 도구: APM을 사용하여 동작 상태 감시, 스카우터, 제니퍼 등 
* 인터페이스 구현 검증 순서

        인터페이스 명세서를 참조하여 구현 검증에 필요한 감시 및 도구 준비
         ->  인터페이스 구현 검증을 위하여 외부 시스템과의 연계 모듈 상태 확인[시나리오->예상 값]
         
         * [송신측->인터페이스 대상 선택 전송] [SQL 모니터링, 조회 트랜잭션 모니터링, JSON 생성 객체 모니터링]
           [인터페이스 객체 전송] [통신 암호화, 패킷 정보, 연결된 트랜잭션]
           [수신 후 수신측 트랙잭션+결과반환] [객체 입력,출력 값, 객제 동작 성공여부]
         
* 인터페이스 명세서
    - 인터페이스 오류처리 방법 및 오류 처리 보고서
        1. 인터페이스 오류 처리 방법
            
            사용자 화면에서 오류를 인지하게 구현, 오류 시스템 로그 -> 파일 작성, 별도 데이터베이스에 오류 저장
        2. 인터페이스 오류 처리 보고서 (정형화 X)
        
    - 인터페이스 오류 처리 확인 및 보고서 작성 순서
        1. 인터페이스 오류 사항 확인
               
               즉시 확인 경우: 시스템 에러 메시지, 이메일, SMS 전송
               주기적 확인 경우: 오류 로그, 오류 테이블, 인터페이스 감시 도구 활용
        2. 인터페이스 오류 처리 보고서 작성(이 오류=장애등급)
            
                최초 발생 보고: 상황 인지 -> 조직상에 신속 보고
                오류 처리 경과 보고: 최초 인지 후 진행되고 있는 상황
                완료 보고: 최종 조치 완료 후 내부 조직+고객사에 완료 보고

               
